<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.7.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2018-03-08T00:19:36+04:00</updated><id>http://localhost:4000/</id><title type="html">Hazaq</title><subtitle>All things Linux | OpenSource Software | Redhat | AWS | DevOps | Zimbra</subtitle><entry><title type="html">Knowledge: Red Hat Satellite Things TO Remember</title><link href="http://localhost:4000/redhat/2018/03/02/RH-Satellite-TTR.html" rel="alternate" type="text/html" title="Knowledge: Red Hat Satellite Things TO Remember" /><published>2018-03-02T10:30:00+04:00</published><updated>2018-03-02T10:30:00+04:00</updated><id>http://localhost:4000/redhat/2018/03/02/RH-Satellite-TTR</id><content type="html" xml:base="http://localhost:4000/redhat/2018/03/02/RH-Satellite-TTR.html">&lt;p&gt;&lt;strong&gt;Architecture&lt;/strong&gt;&lt;br /&gt;
Key components built on mature open source projects:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Puppet: Configuration Management&lt;/li&gt;
  &lt;li&gt;FOREMAN: Provisioning&lt;/li&gt;
  &lt;li&gt;Pulp: Repository Management&lt;/li&gt;
  &lt;li&gt;KATELLO: Content/LifeCycle Management&lt;/li&gt;
  &lt;li&gt;Candlepin: Subscription Management&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Difference between redhat satellite vs capsule is the web UI, you dont have web UI in capsule server.&lt;br /&gt;
LifeCycle Management: The lifecycle envirnment is a means to manage versions with in the datacenter. By default all content that come in to Satellite goes into the evnirnment called ‘Library’ from the Library administrators can move content to other envirnments such as Dev, Testing, Prod etc 
&lt;img src=&quot;/assets/images/rhSat.png&quot; alt=&quot;LifeCycle&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Content View is a new feature that comes with satellite 6, it is means for modeling content&lt;br /&gt;
Discovry: RH Satellite can automatically identify non provisioned host&lt;br /&gt;
Hammer: Is the cli tool to manage Red Hat Satellite 6&lt;/p&gt;</content><author><name></name></author><summary type="html">Architecture Key components built on mature open source projects: Puppet: Configuration Management FOREMAN: Provisioning Pulp: Repository Management KATELLO: Content/LifeCycle Management Candlepin: Subscription Management</summary></entry><entry><title type="html">AWS: EBS Snapshot Scheduling</title><link href="http://localhost:4000/aws/2018/02/15/AWS-EBS-Snapshot-Scheduling.html" rel="alternate" type="text/html" title="AWS: EBS Snapshot Scheduling" /><published>2018-02-15T12:56:00+04:00</published><updated>2018-02-15T12:56:00+04:00</updated><id>http://localhost:4000/aws/2018/02/15/AWS-EBS-Snapshot-Scheduling</id><content type="html" xml:base="http://localhost:4000/aws/2018/02/15/AWS-EBS-Snapshot-Scheduling.html">&lt;p&gt;&lt;strong&gt;Overview&lt;/strong&gt;&lt;br /&gt;
In Amazon RDS you can schedule snapshot creation and deletion were snapshots are automatically created and delete after the retention period and you can do all this with in the RDS management console while or after creating the RDS. To do this with Amazon EBS volumes for EC2 there are couple of things you need to do, first schedule automated EBS snapshots using CloudWatch Event rule and then delete old snapshots using AWS Lambda function.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Schedule Automated Amazon EBS Snapshots Using CloudWatch Events&lt;/strong&gt;&lt;br /&gt;
You can follow &lt;a href=&quot;https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/TakeScheduledSnapshot.html&quot;&gt;these&lt;/a&gt; instructions&lt;br /&gt;
Create a Rule&lt;br /&gt;
 &lt;strong&gt;1)&lt;/strong&gt; Open the CloudWatch&lt;br /&gt;
 &lt;strong&gt;2)&lt;/strong&gt; In the navigation pane, choose Events, Create rule&lt;br /&gt;
 &lt;strong&gt;3)&lt;/strong&gt; For Event Source: Choose Schedule. Choose Fixed rate of and specify the schedule interval.&lt;br /&gt;
 &lt;strong&gt;4)&lt;/strong&gt; For Targets, choose Add target and then select EC2 Create Snapshot API call.&lt;br /&gt;
 &lt;strong&gt;5)&lt;/strong&gt; For Volume ID, choose an EBS volume.&lt;br /&gt;
 &lt;strong&gt;6)&lt;/strong&gt; Choose Configure details.&lt;br /&gt;
 &lt;strong&gt;7)&lt;/strong&gt; For Rule definition, type a name and description for the rule.&lt;br /&gt;
 &lt;strong&gt;8)&lt;/strong&gt; For AWS permissions, choose the option to create a new role and create. This opens the IAM console in a new tab. The new role grants the built-in target permissions to access resources on your behalf. Choose Allow. The tab with the IAM window closes.&lt;br /&gt;
 &lt;strong&gt;9)&lt;/strong&gt; Choose Create rule.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;AWS Lambda function to delete old Snapshots&lt;/strong&gt;&lt;br /&gt;
Now lets setup something to delete old snapshots else the snapshots will keep on piling up and it is impractical to delete them everyday manually. You can use lambda function to delete old snapshots.&lt;br /&gt;
Lets first create the IAM permission required by the Lambda function. In the below template we are giving the CloudWatch log permissions so we can log the output of the lambda function as we purge the snapshots.&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;logs:*&quot;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;arn:aws:logs:*:*:*&quot;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ec2:Describe*&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;*&quot;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;ec2:CreateSnapshot&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;ec2:DeleteSnapshot&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;ec2:CreateTags&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;ec2:ModifySnapshotAttribute&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;ec2:ResetSnapshotAttribute&quot;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;*&quot;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now we can create the lambda function. &lt;br /&gt;
&lt;strong&gt;1)&lt;/strong&gt; Go to the lambda function page and click on &lt;strong&gt;Create a function&lt;/strong&gt;&lt;br /&gt;
&lt;strong&gt;2)&lt;/strong&gt; Select &lt;strong&gt;Author from scratch&lt;/strong&gt; 
&lt;img src=&quot;/assets/images/lambdaimage1.png&quot; alt=&quot;Lambda image 1&quot; /&gt;&lt;br /&gt;
&lt;strong&gt;3)&lt;/strong&gt; Enter a Name like PurgeOldSnaphosts&lt;br /&gt;
&lt;strong&gt;4)&lt;/strong&gt; under Runtime select python 2.x&lt;br /&gt;
&lt;strong&gt;5)&lt;/strong&gt; For Roles select &lt;strong&gt;Choose an exsisting role&lt;/strong&gt;, select the rule that you created previously and create function.&lt;br /&gt;
&lt;strong&gt;6)&lt;/strong&gt; Now under the Configuration page scroll down to &lt;strong&gt;Function Code&lt;/strong&gt; and copy &lt;a href=&quot;https://github.com/hazaq/purgeOldSnapshots/blob/master/purge_snapshots.py&quot;&gt;this&lt;/a&gt; code.&lt;br /&gt;
Don’t forget to change the following variables in the function, according to your environment.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;snap_vol = ‘vol-12345678asdfg’ # The volume ID that needs to purged&lt;/li&gt;
  &lt;li&gt;snap_exclude = [ ‘snap-09876wxyz’ ] # Any old snapshot you want to exclude from getting purged&lt;/li&gt;
  &lt;li&gt;region = ‘us-west-2’ # Region where the purge should occure&lt;/li&gt;
  &lt;li&gt;owner_ids = [ ‘111111111111’ ] # Owner id of the snapshot creater&lt;/li&gt;
  &lt;li&gt;days = 31 # Retention period of old snapshots&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Finally we need to create a CloudWatch Event rule to trigger the function just like we did for creating the snapshots. So follow the same steps in &lt;strong&gt;Schedule Automated Amazon EBS Snapshots Using CloudWatch Events&lt;/strong&gt; with the exception of step 4 where you need to choose a Lambda function as a Target.&lt;br /&gt;
Our lambda function should look like this now.&lt;br /&gt;
&lt;img src=&quot;/assets/images/lambdaimg2.png&quot; alt=&quot;lambdaimage2&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">Overview In Amazon RDS you can schedule snapshot creation and deletion were snapshots are automatically created and delete after the retention period and you can do all this with in the RDS management console while or after creating the RDS. To do this with Amazon EBS volumes for EC2 there are couple of things you need to do, first schedule automated EBS snapshots using CloudWatch Event rule and then delete old snapshots using AWS Lambda function.</summary></entry><entry><title type="html">Zimbra Server Status shows all failed services</title><link href="http://localhost:4000/zimbra/2018/02/02/Zimbra-Server-Status.html" rel="alternate" type="text/html" title="Zimbra Server Status shows all failed services" /><published>2018-02-02T19:39:59+04:00</published><updated>2018-02-02T19:39:59+04:00</updated><id>http://localhost:4000/zimbra/2018/02/02/Zimbra-Server-Status</id><content type="html" xml:base="http://localhost:4000/zimbra/2018/02/02/Zimbra-Server-Status.html">&lt;p&gt;Zimbra have an old problem with its monitoring page. You might see all stopped status on Server Status page even when all Services are running. 
&lt;img src=&quot;/assets/images/zimbraStatus.png&quot; alt=&quot;image-title-here&quot; class=&quot;img-responsive&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To fix this issue:&lt;br /&gt;
1) Check the permissions of &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/spool/cron/zimbra&lt;/code&gt; file. It should be owned by zimbra and should be 600. If not please run:&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;chown zimbra:zimbra /var/spool/cron/zimbra&lt;/code&gt;&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;chmod 600 /var/spool/cron/zimbra&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Wait for 30 minutes for any change to take effect. &lt;br /&gt;
If the above doesn’t fix your problem,&lt;/p&gt;

&lt;p&gt;2) Change line in zimbra user’s crontab&lt;br /&gt;
from&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;*/30 * * * * /opt/zimbra/libexec/zmstatuslog &amp;gt; /dev/null 2&amp;gt;&amp;amp;1&lt;/code&gt;&lt;br /&gt;
to&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;*/2 * * * * /opt/zimbra/libexec/zmstatuslog &amp;gt; /dev/null 2&amp;gt;&amp;amp;1&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;3) Then restart zmstatctl service&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;zmstatctl restart&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;4) Run the status logger manually:&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;/opt/zimbra/libexec/zmstatuslog&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Again, wait for 30 minutes for any change to take effect. &lt;br /&gt;
Monitor server status for couple of hours to make sure that the status hasn’t changed back.&lt;/p&gt;
&lt;h4 id=&quot;rrd-tool-time-offset-zimbra-88-and-above&quot;&gt;RRD tool time offset (Zimbra 8.8 and above)&lt;/h4&gt;
&lt;p&gt;Another issue that might cause the zimbra server status to fail could be because of RRD tool time offset. RRD is now being used in the latest ZCS versions to display the graphical output under Zimbra Monitor. This issue can come if for some reason the timezone or time of the zimbra host machine is changed after the installation of zimbra.&lt;br /&gt;
To verify the rrd time offset you should get this error message in &lt;code class=&quot;highlighter-rouge&quot;&gt;'/opt/zimbra/log/zmlogswatch.out'&lt;/code&gt;&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;illegal attempt to update using time &amp;lt;EpocTime&amp;gt; when last update time is &amp;lt;EpocTime&amp;gt;&lt;/code&gt;&lt;br /&gt;
This happens because RRD tool does not have the permission to update time in the database where it is storing the logs.&lt;br /&gt;
An easy fix that works for me is to remove all the RRD db files so that it can be regenerated&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Stop&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;zmlogger&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;be&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;safe&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;zimbra&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/opt/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zimbra&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rrds&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;old&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/opt/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zimbra&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rrds&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;rrd&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/opt/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zimbra&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rrds&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;old&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;services&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;back&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;again&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><summary type="html">Zimbra have an old problem with its monitoring page. You might see all stopped status on Server Status page even when all Services are running. To fix this issue: 1) Check the permissions of /var/spool/cron/zimbra file. It should be owned by zimbra and should be 600. If not please run: chown zimbra:zimbra /var/spool/cron/zimbra chmod 600 /var/spool/cron/zimbra</summary></entry><entry><title type="html">Zimbra 8.8 known Issues</title><link href="http://localhost:4000/zimbra/2018/02/02/Zimbra-8.8-common-issues.html" rel="alternate" type="text/html" title="Zimbra 8.8 known Issues" /><published>2018-02-02T19:39:59+04:00</published><updated>2018-02-02T19:39:59+04:00</updated><id>http://localhost:4000/zimbra/2018/02/02/Zimbra-8.8-common-issues</id><content type="html" xml:base="http://localhost:4000/zimbra/2018/02/02/Zimbra-8.8-common-issues.html">&lt;p&gt;&lt;strong&gt;Zimbra webmail https error&lt;/strong&gt;&lt;br /&gt;
After installing zimbra 8.8 if you try to access the webmail using the IP and https protocol you may get “Secure Connection Failed” error on your browser. 
To fix this you need to set the zimbraVirtualHostname and zimbraVirtualIPAddress for the zimbra domains. 
For example for the domain domain.local with IP 192.168.1.1 run the following command.&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;zmprov&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;zimbraVirtualHostname&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`hostname -f`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;zimbraVirtualIPAddress&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;192.168&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.1&lt;/span&gt;
&lt;span class=&quot;sr&quot;&gt;/opt/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zimbra&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;libexec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zmproxyconfgen&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;zmproxyctl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;restart&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above command should be run as zimbra user.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;RRD Tool&lt;/strong&gt;&lt;br /&gt;
View &lt;a href=&quot;http://hazaq.me/zimbra/2018/02/02/Zimbra-Server-Status.html&quot;&gt;this&lt;/a&gt; Document&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;FireFox and Zimbra Admin interface&lt;/strong&gt;&lt;br /&gt;
Zimbra 8.7 and above admin interface has an issue with firefox, if you quickly modify some settings for a user using admin interface without letting firefox load the complete page, for example changing the account status, zimbra might delete the unloaded setting for the user.  So either use firefox patiently or you might want to use google Chrome which is reported better at this.&lt;br /&gt;
&lt;a href=&quot;https://forums.zimbra.org/viewtopic.php?t=61416#p275836&quot;&gt;Source&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Zimbra IP change&lt;/strong&gt;&lt;br /&gt;
If you want to change the IP on a running Zimbra server apart from changing the obvious things like mynetworks, zimbraVirtualIPAddress etc you might want to change ldap bind address. Zimbra ldap bind it self to the IP and if the users try to authenticate from a different IP ldap will not respond. so to fix this&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;#As zimbra  &lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;zmlocalconfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ldap_bind_url'&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#This will give you the currnet value of ldap bind address  &lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;zmlocalconfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldap_bind_url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ldap://&amp;lt;ip&amp;gt;:&amp;lt;port&amp;gt;&quot;&lt;/span&gt;  
&lt;span class=&quot;c1&quot;&gt;#You can also do some thing like this if you want to add mulitple IPs&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;zmlocalconfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldap_bind_url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ldap://&amp;lt;IP1&amp;gt;:&amp;lt;port&amp;gt; ldap://&amp;lt;IP2&amp;gt;:&amp;lt;port&amp;gt;&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ldap&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;  
&lt;span class=&quot;n&quot;&gt;ldap&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><summary type="html">Zimbra webmail https error After installing zimbra 8.8 if you try to access the webmail using the IP and https protocol you may get “Secure Connection Failed” error on your browser. To fix this you need to set the zimbraVirtualHostname and zimbraVirtualIPAddress for the zimbra domains. For example for the domain domain.local with IP 192.168.1.1 run the following command. zmprov md domain.local zimbraVirtualHostname `hostname -f` zimbraVirtualIPAddress 192.168.1.1 /opt/zimbra/libexec/zmproxyconfgen zmproxyctl restart The above command should be run as zimbra user.</summary></entry></feed>